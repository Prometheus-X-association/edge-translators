!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.esco=t():e.esco=t()}(global,(()=>(()=>{var e={317:(e,t,o)=>{const n=o(545),r=o(396);e.exports=class{constructor(e){var{maxDistance:t=0,filesLocation:o=null,filePrefix:n="esco_labels_expanded"}=e;this.ontology={},this.maxDistance=t,this.enableSynonyms=!0===e.enableSynonyms,this.filesLocation=o,this.filePrefix=n}async loadOntology(e){const t=n.supportedLanguages;if("string"!=typeof this.filesLocation)throw new Error('Invalid value for parameter "filesLocation"');Array.isArray(e)||(e=t);for(let o=0;o<e.length;o++){const n=e[o];if(!t.includes(n))continue;const r=await this._getEscoOntology(n);this.ontology[n]=r}}async _getEscoOntology(e){var t=`${this.filesLocation}/${this.filePrefix}_${e}.json`;try{return(await fetch(t)).json()}catch(e){return[]}}getEscoLabel(e,t){if("string"!=typeof e)return null;const o=this.ontology[t];for(let t=0;t<o.length;t++){const n=o[t];if(e==n.uri&&"preferredLabel"==n.type)return n.label}return null}getClosestLabel(e,t){const o=this.enableSynonyms;for(var n=this.ontology[t],s=1e3,a=null,i=0;i<n.length;i++){const t="synonym"==n[i]?.type;if(!o&&t)continue;const l=n[i].label;if(Math.abs(l.length-e.length)>this.maxDistance)continue;const c=r.levenshtein(e.toLowerCase(),l.toLowerCase());c<s&&(s=c,a=n[i])}return null==a||s>this.maxDistance?null:o?{label:a.original,uri:a.uri,distance:s,matchedSynonym:a.label}:{label:a.label,uri:a.uri,distance:s}}translate(e,t,o){var n=this.getClosestLabel(e,t);if(null==n)return null;const r={translation:this.getEscoLabel(n.uri,o),uri:n.uri,detectedEscoLabel:n.label,matchedSynonym:n.matchedSynonym,distance:n.distance};return 0==n.distance&&(delete r.original,delete r.detectedEscoLabel,delete r.distance),r}}},545:e=>{const t={supportedLanguages:["en","fr","fi","es","de"]};e.exports=t},482:(e,t,o)=>{const n={esco:o(545)};e.exports=n},396:e=>{const t={levenshtein:function(e,t){if(e===t)return 0;var o=e.length,n=t.length;if(0===o||0===n)return o+n;var r,s,a,i,l,c,u,f=0,d=new Uint16Array(o),y=new Uint32Array(o);for(r=0;r<o;)y[r]=e.charCodeAt(r),d[r]=++r;for(;f+3<n;f+=4){var h=t.charCodeAt(f),g=t.charCodeAt(f+1),p=t.charCodeAt(f+2),b=t.charCodeAt(f+3);for(i=f,a=f+1,l=f+2,c=f+3,u=f+4,r=0;r<o;r++)(s=d[r])<i||a<i?i=s>a?a+1:s+1:h!==y[r]&&i++,i<a||l<a?a=i>l?l+1:i+1:g!==y[r]&&a++,a<l||c<l?l=a>c?c+1:a+1:p!==y[r]&&l++,l<c||u<c?c=l>u?u+1:l+1:b!==y[r]&&c++,d[r]=u=c,c=l,l=a,a=i,i=s}for(;f<n;){var v=t.charCodeAt(f);for(i=f,l=++f,r=0;r<o;r++)l=(s=d[r])<i||l<i?s>l?l+1:s+1:v!==y[r]?i+1:i,d[r]=l,i=s;u=l}return u}};e.exports=t},878:(e,t,o)=>{const n={distance:o(396)};e.exports=n}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,o),s.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";o.r(n),o.d(n,{EscoOntology:()=>s.a,constants:()=>t.a,utils:()=>i.a,version:()=>l});var e=o(482),t=o.n(e),r=o(317),s=o.n(r),a=o(878),i=o.n(a);const l="0.1.0"})(),n})()));