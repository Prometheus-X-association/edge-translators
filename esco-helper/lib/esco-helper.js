!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.esco=t():e.esco=t()}(global,(()=>(()=>{var e={317:(e,t,o)=>{const n=o(545),r=o(396);e.exports=class{constructor(e){var{maxDistance:t=0,filesLocation:o=null,filePrefix:n="esco_labels_expanded"}=e;this.ontology={},this.maxDistance=t,this.enableSynonyms=!0===e.enableSynonyms,this.filesLocation=o,this.filePrefix=n}async loadOntology(e){const t=n.supportedLanguages;if("string"!=typeof this.filesLocation)throw new Error('Invalid value for parameter "filesLocation"');Array.isArray(e)||(e=t);for(let o=0;o<e.length;o++){const n=e[o];if(!t.includes(n))continue;const r=await this._getEscoOntology(n);this.ontology[n]=r}}async _getEscoOntology(e){var t=`${this.filesLocation}/${this.filePrefix}_${e}.json`;try{return(await fetch(t)).json()}catch(e){return[]}}getEscoLabel(e,t){if("string"!=typeof e)return null;const o=this.ontology[t];for(let t=0;t<o.length;t++){const n=o[t];if(e==n.uri&&"preferredLabel"==n.type)return n.label}return null}getClosestLabel(e,t){const o=this.enableSynonyms;for(var n=this.ontology[t],s=1e3,a=null,l=0;l<n.length;l++){const t="synonym"==n[l]?.type;if(!o&&t)continue;const i=n[l].label;if(Math.abs(i.length-e.length)>this.maxDistance)continue;const c=r.levenshtein(e.toLowerCase(),i.toLowerCase());c<s&&(s=c,a=n[l])}if(null==a)return null;if(s>this.maxDistance)return null;const i=this.getEscoLabel(a.uri,t);return{closestLabel:a.label,typeClosestLabel:a.type,preferredLabel:i,uri:a.uri,distance:s}}translate(e,t,o){var n=this.getClosestLabel(e,t);if(null==n)return null;const r=this.getEscoLabel(n.uri,o);return{...n,translation:r}}}},545:e=>{const t={supportedLanguages:["en","fr","fi","es","de"]};e.exports=t},482:(e,t,o)=>{const n={esco:o(545)};e.exports=n},396:e=>{const t={levenshtein:function(e,t){if(e===t)return 0;var o=e.length,n=t.length;if(0===o||0===n)return o+n;var r,s,a,l,i,c,f,u=0,y=new Uint16Array(o),h=new Uint32Array(o);for(r=0;r<o;)h[r]=e.charCodeAt(r),y[r]=++r;for(;u+3<n;u+=4){var p=t.charCodeAt(u),d=t.charCodeAt(u+1),g=t.charCodeAt(u+2),b=t.charCodeAt(u+3);for(l=u,a=u+1,i=u+2,c=u+3,f=u+4,r=0;r<o;r++)(s=y[r])<l||a<l?l=s>a?a+1:s+1:p!==h[r]&&l++,l<a||i<a?a=l>i?i+1:l+1:d!==h[r]&&a++,a<i||c<i?i=a>c?c+1:a+1:g!==h[r]&&i++,i<c||f<c?c=i>f?f+1:i+1:b!==h[r]&&c++,y[r]=f=c,c=i,i=a,a=l,l=s}for(;u<n;){var v=t.charCodeAt(u);for(l=u,i=++u,r=0;r<o;r++)i=(s=y[r])<l||i<l?s>i?i+1:s+1:v!==h[r]?l+1:l,y[r]=i,l=s;f=i}return f}};e.exports=t},878:(e,t,o)=>{const n={distance:o(396)};e.exports=n}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,o),s.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";o.r(n),o.d(n,{EscoOntology:()=>s.a,constants:()=>t.a,utils:()=>l.a,version:()=>i});var e=o(482),t=o.n(e),r=o(317),s=o.n(r),a=o(878),l=o.n(a);const i="0.2.0"})(),n})()));